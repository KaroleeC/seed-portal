[{"message":"","timestamp":"2025-09-09T18:51:01.935611295Z"},{"message":"\u001b[35m[Region: us-west1]\u001b[0m","timestamp":"2025-09-09T18:51:25.552960937Z"},{"message":"\u001b[35m==============","timestamp":"2025-09-09T18:51:25.557283078Z"},{"message":"Using Nixpacks","timestamp":"2025-09-09T18:51:25.557318543Z"},{"message":"==============","timestamp":"2025-09-09T18:51:25.557323018Z"},{"message":"\u001b[0m","timestamp":"2025-09-09T18:51:25.557326402Z"},{"message":"context: c2m8-KYdA","timestamp":"2025-09-09T18:51:25.557418479Z"},{"message":"╔═════════════════════ Nixpacks v1.38.0 ═════════════════════╗","timestamp":"2025-09-09T18:51:25.746475234Z"},{"message":"║ setup      │ nodejs_18, npm-9_x, openssl                   ║","timestamp":"2025-09-09T18:51:25.746516393Z"},{"message":"║────────────────────────────────────────────────────────────║","timestamp":"2025-09-09T18:51:25.746522530Z"},{"message":"║ start      │ nodejs-18_x                                   ║","timestamp":"2025-09-09T18:51:25.746526411Z"},{"message":"║────────────────────────────────────────────────────────────║","timestamp":"2025-09-09T18:51:25.746533352Z"},{"message":"║ caddy      │ pkgs: caddy                                   ║","timestamp":"2025-09-09T18:51:25.746537466Z"},{"message":"║            │ cmds: caddy fmt --overwrite /assets/Caddyfile ║","timestamp":"2025-09-09T18:51:25.746541466Z"},{"message":"║────────────────────────────────────────────────────────────║","timestamp":"2025-09-09T18:51:25.746545996Z"},{"message":"║ install    │ npm ci                                        ║","timestamp":"2025-09-09T18:51:25.746549397Z"},{"message":"║────────────────────────────────────────────────────────────║","timestamp":"2025-09-09T18:51:25.746554382Z"},{"message":"║ build      │ pkgs: nodejs-18_x, npm-9_x                    ║","timestamp":"2025-09-09T18:51:25.746560753Z"},{"message":"║            │ cmds: npm ci                                  ║","timestamp":"2025-09-09T18:51:25.746564613Z"},{"message":"║            │ npm run build                                 ║","timestamp":"2025-09-09T18:51:25.746568690Z"},{"message":"║────────────────────────────────────────────────────────────║","timestamp":"2025-09-09T18:51:25.746572472Z"},{"message":"║ start      │ NODE_ENV=production tsx worker.ts             ║","timestamp":"2025-09-09T18:51:25.746575830Z"},{"message":"╚════════════════════════════════════════════════════════════╝","timestamp":"2025-09-09T18:51:25.746579910Z"},{"message":"[internal] load build definition from Dockerfile","timestamp":"2025-09-09T18:51:27.302637708Z"},{"message":"[internal] load build definition from Dockerfile","timestamp":"2025-09-09T18:51:27.302690677Z"},{"message":"[internal] load build definition from Dockerfile","timestamp":"2025-09-09T18:51:27.302706585Z"},{"message":"[internal] load build definition from Dockerfile","timestamp":"2025-09-09T18:51:27.302736668Z"},{"message":"[internal] load build definition from Dockerfile","timestamp":"2025-09-09T18:51:27.315856607Z"},{"message":"[internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067","timestamp":"2025-09-09T18:51:27.318291150Z"},{"message":"[internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067","timestamp":"2025-09-09T18:51:27.627771488Z"},{"message":"[internal] load .dockerignore","timestamp":"2025-09-09T18:51:27.628216040Z"},{"message":"[internal] load .dockerignore","timestamp":"2025-09-09T18:51:27.628273001Z"},{"message":"[internal] load .dockerignore","timestamp":"2025-09-09T18:51:27.628288556Z"},{"message":"[internal] load .dockerignore","timestamp":"2025-09-09T18:51:27.642031811Z"},{"message":"[stage-0  7/18] COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix","timestamp":"2025-09-09T18:51:27.648852938Z"},{"message":"[stage-0  6/18] RUN nix-env -if .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:27.648906595Z"},{"message":"[stage-0  5/18] COPY .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix","timestamp":"2025-09-09T18:51:27.648921198Z"},{"message":"[stage-0  4/18] RUN nix-env -if .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:27.648934956Z"},{"message":"[stage-0  3/18] COPY .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix","timestamp":"2025-09-09T18:51:27.648947234Z"},{"message":"[internal] load build context","timestamp":"2025-09-09T18:51:27.648959170Z"},{"message":"[stage-0  2/18] WORKDIR /app/","timestamp":"2025-09-09T18:51:27.648969861Z"},{"message":"[stage-0  1/18] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de","timestamp":"2025-09-09T18:51:27.648979103Z"},{"message":"[stage-0 18/18] COPY . /app","timestamp":"2025-09-09T18:51:27.649059545Z"},{"message":"[stage-0 17/18] RUN printf '\\nPATH=/app/node_modules/.bin:$PATH' >> /root/.profile","timestamp":"2025-09-09T18:51:27.649075517Z"},{"message":"[stage-0 16/18] RUN --mount=type=cache,id=s/df981aa9-ba13-4bc5-91b2-a384585c700e-node_modules/cache,target=/app/node_modules/.cache npm run build","timestamp":"2025-09-09T18:51:27.649163430Z"},{"message":"[stage-0 15/18] RUN --mount=type=cache,id=s/df981aa9-ba13-4bc5-91b2-a384585c700e-node_modules/cache,target=/app/node_modules/.cache npm ci","timestamp":"2025-09-09T18:51:27.649182223Z"},{"message":"[stage-0 14/18] COPY . /app/.","timestamp":"2025-09-09T18:51:27.649198643Z"},{"message":"[stage-0 13/18] RUN --mount=type=cache,id=s/df981aa9-ba13-4bc5-91b2-a384585c700e-/root/npm,target=/root/.npm npm ci","timestamp":"2025-09-09T18:51:27.649206183Z"},{"message":"[stage-0 12/18] COPY . /app/.","timestamp":"2025-09-09T18:51:27.649212339Z"},{"message":"[stage-0 11/18] RUN  caddy fmt --overwrite /assets/Caddyfile","timestamp":"2025-09-09T18:51:27.649218963Z"},{"message":"[stage-0 10/18] COPY . /app/.","timestamp":"2025-09-09T18:51:27.649224883Z"},{"message":"[stage-0  9/18] COPY .nixpacks/assets /assets/","timestamp":"2025-09-09T18:51:27.649236528Z"},{"message":"[stage-0  8/18] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:27.649243019Z"},{"message":"[internal] load build context","timestamp":"2025-09-09T18:51:27.649270658Z"},{"message":"[stage-0  1/18] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de","timestamp":"2025-09-09T18:51:27.649441323Z"},{"message":"[internal] load build context","timestamp":"2025-09-09T18:51:27.649824649Z"},{"message":"[stage-0  2/18] WORKDIR /app/","timestamp":"2025-09-09T18:51:27.662895325Z"},{"message":"[internal] load build context","timestamp":"2025-09-09T18:51:35.439920161Z"},{"message":"[stage-0  3/18] COPY .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix","timestamp":"2025-09-09T18:51:35.445265212Z"},{"message":"[stage-0  3/18] COPY .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix","timestamp":"2025-09-09T18:51:35.530433937Z"},{"message":"[stage-0  4/18] RUN nix-env -if .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:35.531317536Z"},{"message":"unpacking 'https://github.com/NixOS/nixpkgs/archive/5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.tar.gz' into the Git cache...\n","timestamp":"2025-09-09T18:51:35.739391042Z"},{"message":"installing '5148520bfab61f99fd25fb9ff7bfbb50dad3c9db-env'\n","timestamp":"2025-09-09T18:51:58.319854656Z"},{"message":"error:\n       … while calling the 'derivationStrict' builtin\n         at <nix/derivation-internal.nix>:37:12:\n           36|\n           37|   strict = derivationStrict drvAttrs;\n             |            ^\n           38|\n\n       … while evaluating derivation '5148520bfab61f99fd25fb9ff7bfbb50dad3c9db-env'\n         whose name attribute is located at /nix/store/lgcjj6s23v2203zyihsd0j26wh1saj0c-source/pkgs/stdenv/generic/make-derivation.nix:300:7\n\n       … while evaluating attribute 'passAsFile' of derivation '5148520bfab61f99fd25fb9ff7bfbb50dad3c9db-env'\n         at /nix/store/lgcjj6s23v2203zyihsd0j26wh1saj0c-source/pkgs/build-support/trivial-builders/default.nix:88:7:\n           87|       inherit buildCommand name;\n           88|       passAsFile = [ \"buildCommand\" ]\n             |       ^\n           89|         ++ (derivationArgs.passAsFile or []);\n\n       (stack trace truncated; use '--show-trace' to show the full, detailed trace)\n\n       error: undefined variable 'npm-9_x'\n       at /app/.nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix:19:33:\n           18|         '')\n           19|         nodejs-18_x nodejs-18_x npm-9_x\n             |                                 ^\n           20|       ];\n","timestamp":"2025-09-09T18:51:58.525049425Z"},{"message":"[stage-0  4/18] RUN nix-env -if .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:58.846834458Z"},{"message":"Dockerfile:8","timestamp":"2025-09-09T18:51:58.863826555Z"},{"message":"-------------------","timestamp":"2025-09-09T18:51:58.863860066Z"},{"message":"6 |","timestamp":"2025-09-09T18:51:58.863867306Z"},{"message":"7 |     COPY .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix","timestamp":"2025-09-09T18:51:58.863873216Z"},{"message":"8 | >>> RUN nix-env -if .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:58.863880341Z"},{"message":"9 |     COPY .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix","timestamp":"2025-09-09T18:51:58.863885205Z"},{"message":"10 |     RUN nix-env -if .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix && nix-collect-garbage -d","timestamp":"2025-09-09T18:51:58.863890184Z"},{"message":"-------------------","timestamp":"2025-09-09T18:51:58.863894849Z"},{"message":"ERROR: failed to build: failed to solve: process \"/bin/bash -ol pipefail -c nix-env -if .nixpacks/nixpkgs-5148520bfab61f99fd25fb9ff7bfbb50dad3c9db.nix && nix-collect-garbage -d\" did not complete successfully: exit code: 1","timestamp":"2025-09-09T18:51:58.863900155Z"},{"message":"Error: Docker build failed","timestamp":"2025-09-09T18:51:58.872370957Z"}]