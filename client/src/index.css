@import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Nunito+Sans:wght@400;500;600&family=League+Spartan:wght@400;600;700;800&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(20, 14.3%, 4.1%);
  --muted: hsl(60, 4.8%, 95.9%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(20, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(20, 14.3%, 4.1%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(60, 4.8%, 95.9%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(60, 4.8%, 95.9%);
  --accent-foreground: hsl(24, 9.8%, 10%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);
  --radius: 0.5rem;

  /* Seed Financial Brand Colors */
  --seed-dark: hsl(155, 24%, 21%);
  --seed-light: hsl(150, 47%, 59%);
  --seed-orange: hsl(15, 100%, 44%);

  /* Sidebar tokens (used by tailwind.config.ts theme.sidebar) */
  --sidebar-background: hsl(0, 0%, 100%);
  --sidebar-foreground: hsl(20, 14.3%, 4.1%);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);

  /* Universal page background tokens (Light default) */
  --page-bg-start: #75c29a; /* teal */
  --page-bg-end: #f4f4f4; /* light */
}

.dark {
  --background: hsl(222, 28%, 8%);
  --foreground: hsl(210, 40%, 96%);
  /* SeedKB-inspired navy glass surfaces */
  --muted: hsla(221, 33%, 14%, 0.55);
  --muted-foreground: hsl(215, 20%, 78%);
  --popover: hsla(221, 33%, 16%, 0.68);
  --popover-foreground: hsl(210, 40%, 96%);
  --card: hsla(221, 33%, 15%, 0.64);
  --card-foreground: hsl(210, 40%, 96%);
  --border: hsla(210, 40%, 98%, 0.12);
  --input: var(--border);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsla(221, 33%, 14%, 0.5);
  --secondary-foreground: hsl(210, 40%, 96%);
  --accent: hsla(221, 33%, 14%, 0.5);
  --accent-foreground: hsl(210, 40%, 96%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsla(210, 40%, 98%, 0.35);

  /* Sidebar tokens (dark) */
  --sidebar-background: hsla(221, 33%, 15%, 0.58);
  --sidebar-foreground: hsl(210, 40%, 96%);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: hsla(221, 33%, 14%, 0.5);
  --sidebar-accent-foreground: hsl(210, 40%, 96%);
  --sidebar-border: hsla(210, 40%, 98%, 0.12);
  --sidebar-ring: hsla(210, 40%, 98%, 0.35);

  /* Universal page background tokens (Dark) */
  --page-bg-start: #253e31; /* slate-green */
  --page-bg-end: #75c29a; /* teal */
}

/* Container-scoped Light theme preview
   Allows pages/components to opt into light tokens even when the app
   is running in dark mode globally. Used by SettingsLayout's toggle. */
[data-theme="light"] {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(20, 14.3%, 4.1%);
  --muted: hsl(60, 4.8%, 95.9%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(20, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(20, 14.3%, 4.1%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(60, 4.8%, 95.9%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(60, 4.8%, 95.9%);
  --accent-foreground: hsl(24, 9.8%, 10%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);

  /* Sidebar tokens (light) */
  --sidebar-background: hsl(0, 0%, 100%);
  --sidebar-foreground: hsl(20, 14.3%, 4.1%);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);

  /* Universal page background tokens (Light) */
  --page-bg-start: #75c29a; /* teal */
  --page-bg-end: #f4f4f4; /* light */
}

/* Theme Variants (dark mode)
   - .dark.theme-seedkb applies the SeedKB navy glass palette explicitly
   - .dark.theme-classic restores the prior classic dark palette for A/B comparison */
.dark.theme-seedkb,
.dark.theme-seed-dark {
  --background: hsl(222, 28%, 8%);
  --foreground: hsl(210, 40%, 96%);
  --muted: hsla(221, 33%, 14%, 0.55);
  --muted-foreground: hsl(215, 20%, 78%);
  --popover: hsla(221, 33%, 16%, 0.68);
  --popover-foreground: hsl(210, 40%, 96%);
  --card: hsla(221, 33%, 15%, 0.64);
  --card-foreground: hsl(210, 40%, 96%);
  --border: hsla(210, 40%, 98%, 0.12);
  --input: var(--border);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsla(221, 33%, 14%, 0.5);
  --secondary-foreground: hsl(210, 40%, 96%);
  --accent: hsla(221, 33%, 14%, 0.5);
  --accent-foreground: hsl(210, 40%, 96%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsla(210, 40%, 98%, 0.35);

  --sidebar-background: hsla(221, 33%, 15%, 0.58);
  --sidebar-foreground: hsl(210, 40%, 96%);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: hsla(221, 33%, 14%, 0.5);
  --sidebar-accent-foreground: hsl(210, 40%, 96%);
  --sidebar-border: hsla(210, 40%, 98%, 0.12);
  --sidebar-ring: hsla(210, 40%, 98%, 0.35);

  /* Universal page background tokens (Dark variant) */
  --page-bg-start: #253e31; /* slate-green */
  --page-bg-end: #75c29a; /* teal */

  /* Hero surface custom props for reusable utilities */
  --card-hero-start: hsla(217, 33%, 17%, 0.9); /* slate-800/90 */
  --card-hero-end: hsla(222, 47%, 11%, 0.9); /* slate-900/90 */
  --card-hero-border: hsla(215, 20%, 36%, 0.5); /* slate-600/50 */
  --band-start: hsla(215, 28%, 27%, 0.5); /* slate-700/50 */
  --band-end: hsla(217, 33%, 17%, 0.5); /* slate-800/50 */
  --band-border: hsla(215, 20%, 36%, 0.3); /* slate-600/30 */
}

.dark.theme-classic {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsla(0, 0%, 100%, 0.06);
  --muted-foreground: hsl(240, 5%, 80%);
  --popover: hsla(0, 0%, 100%, 0.08);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsla(0, 0%, 100%, 0.08);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsla(0, 0%, 100%, 0.18);
  --input: var(--border);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsla(0, 0%, 100%, 0.06);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsla(0, 0%, 100%, 0.06);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);

  --sidebar-background: hsla(0, 0%, 100%, 0.06);
  --sidebar-foreground: hsl(0, 0%, 98%);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: hsla(0, 0%, 100%, 0.06);
  --sidebar-accent-foreground: hsl(0, 0%, 98%);
  --sidebar-border: hsla(0, 0%, 100%, 0.18);
  --sidebar-ring: hsl(240, 4.9%, 83.9%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: "Nunito Sans", sans-serif;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Open Sans", sans-serif;
  }
}

@layer components {
  /* Reuse the exact KB category card surface
     Neutralized utility: .surface-glass (alias of .kb-surface)
     DEPRECATED: .kb-surface — use .surface-glass. This alias will be removed after migration. */
  .theme-seedkb .kb-surface,
  .theme-seed-dark .kb-surface,
  .theme-seedkb .surface-glass,
  .theme-seed-dark .surface-glass {
    position: relative;
    background-image: linear-gradient(
      135deg,
      rgba(30, 41, 59, 0.9),
      rgba(15, 23, 42, 0.9)
    ); /* slate-800/90 -> slate-900/90 */
    border: 2px solid rgba(71, 85, 105, 0.5); /* slate-600/50 */
    border-radius: var(--radius, 0.5rem); /* default rounding; utilities may refine */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
    transition: all 500ms cubic-bezier(0.22, 1, 0.36, 1);
  }

  /* Honor circular intent explicitly to beat base surface rounding */
  .theme-seedkb .surface-glass.rounded-full,
  .theme-seed-dark .surface-glass.rounded-full {
    border-radius: 9999px;
  }

  /* DEPRECATED: .kb-surface:hover — use .surface-glass:hover. */
  .theme-seedkb .kb-surface:hover,
  .theme-seed-dark .kb-surface:hover,
  .theme-seedkb .surface-glass:hover,
  .theme-seed-dark .surface-glass:hover {
    background-image: linear-gradient(
      135deg,
      rgba(51, 65, 85, 0.9),
      rgba(30, 41, 59, 0.9)
    ); /* slate-700/90 -> slate-800/90 */
    border-color: rgba(251, 146, 60, 0.7); /* orange-400/70 */
    /* Reduce hover lift/zoom intensity by ~75% */
    transform: translateY(-0.125rem) scale(1.012);
    box-shadow:
      0 35px 60px -20px rgba(0, 0, 0, 0.4),
      0 10px 20px -10px rgba(0, 0, 0, 0.4);
  }

  /* Optional overlay to mimic the KB hover glaze
     DEPRECATED: .kb-surface::after — use .surface-glass::after. */
  .theme-seedkb .kb-surface::after,
  .theme-seed-dark .kb-surface::after,
  .theme-seedkb .surface-glass::after,
  .theme-seed-dark .surface-glass::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0.2));
    opacity: 0;
    transition: opacity 500ms;
    border-radius: inherit;
  }
  .theme-seedkb .kb-surface:hover::after,
  .theme-seed-dark .kb-surface:hover::after {
    opacity: 1;
  }

  /* SeedKB variant: circular quick action cards blend with navy glass
     Neutralized utility: .quick-action-surface (alias of .kb-quick-action)
     DEPRECATED: .kb-quick-action — use .quick-action-surface. */
  .theme-seedkb .kb-quick-action,
  .theme-seed-dark .kb-quick-action,
  .theme-seedkb .quick-action-surface,
  .theme-seed-dark .quick-action-surface {
    @apply bg-gradient-to-br from-slate-800/90 to-slate-900/90 border-2 border-slate-600/50 backdrop-blur-xl;
  }
  .theme-seedkb .kb-quick-action:hover,
  .theme-seed-dark .kb-quick-action:hover,
  .theme-seedkb .quick-action-surface:hover,
  .theme-seed-dark .quick-action-surface:hover {
    @apply from-slate-700/90 to-slate-800/90 border-orange-400/70;
  }

  /* Shared motion utility for DS surfaces
     Neutralized utility: .surface-motion (alias of .kb-hover-motion)
     DEPRECATED: .kb-hover-motion — use .surface-motion. */
  .kb-hover-motion,
  .surface-motion {
    transition:
      transform 500ms,
      box-shadow 500ms,
      background-image 500ms,
      border-color 500ms;
    transform: translateY(0) scale(1);
  }
  .kb-hover-motion:hover,
  .surface-motion:hover {
    /* Reduce hover lift/zoom intensity by ~75% */
    transform: translateY(-0.125rem) scale(1.012);
    box-shadow:
      0 35px 60px -20px rgba(0, 0, 0, 0.4),
      0 10px 20px -10px rgba(0, 0, 0, 0.4);
  }

  /* Universal KB selection utilities for cards/tiles */
  .kb-select {
    transition: all 300ms ease;
  }
  .kb-select-hover:hover {
    border-color: var(--primary);
    /* Subtle primary-tinted background */
    background-color: color-mix(in srgb, var(--primary) 5%, transparent);
    box-shadow: 0 10px 18px -12px rgba(0, 0, 0, 0.25);
  }
  .kb-select-active {
    border-color: var(--primary);
    background-color: color-mix(in srgb, var(--primary) 10%, transparent);
    box-shadow: 0 14px 22px -12px rgba(0, 0, 0, 0.35);
    transform: scale(1.01);
  }

  /* Give quick actions the same motion and glaze overlay as KbCard */
  .theme-seedkb .kb-quick-action,
  .theme-seed-dark .kb-quick-action {
    position: relative;
    overflow: hidden;
  }
  .theme-seedkb .kb-quick-action::after,
  .theme-seed-dark .kb-quick-action::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0.2));
    opacity: 0;
    transition: opacity 500ms;
    border-radius: inherit;
  }
  .theme-seedkb .kb-quick-action:hover::after,
  .theme-seed-dark .kb-quick-action:hover::after {
    opacity: 1;
  }

  /* DS hero surface (reusable)
     Neutralized utility: .surface-hero (alias of .seedkb-hero)
     DEPRECATED: .seedkb-hero — use .surface-hero. */
  .seedkb-hero,
  .surface-hero {
    background: linear-gradient(
      135deg,
      var(--card-hero-start, hsla(217, 33%, 17%, 0.9)),
      var(--card-hero-end, hsla(222, 47%, 11%, 0.9))
    );
    border: 2px solid var(--card-hero-border, hsla(215, 20%, 36%, 0.5));
    border-radius: 1rem; /* ~rounded-2xl */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.45);
  }

  /* DS band surface (reusable)
     Neutralized utility: .surface-band (alias of .seedkb-band)
     DEPRECATED: .seedkb-band — use .surface-band. */
  .seedkb-band,
  .surface-band {
    background: linear-gradient(
      90deg,
      var(--band-start, hsla(215, 28%, 27%, 0.5)),
      var(--band-end, hsla(217, 33%, 17%, 0.5))
    );
    border-bottom: 1px solid var(--band-border, hsla(215, 20%, 36%, 0.3));
  }

  /* Dark theme compatibility shims
     Remap common hard-coded gray/white utilities to tokenized colors when Seed Dark Theme is active.
     This allows a gradual migration without breaking existing pages. */
  .dark.theme-seed-dark .bg-white,
  .dark.theme-seed-dark .bg-gray-50,
  .dark.theme-seed-dark .bg-gray-100,
  .dark.theme-seed-dark .bg-slate-50,
  .dark.theme-seed-dark .bg-zinc-50,
  .dark.theme-seed-dark .bg-neutral-50 {
    background-color: var(--card) !important;
  }

  .dark.theme-seed-dark .text-gray-900,
  .dark.theme-seed-dark .text-slate-900,
  .dark.theme-seed-dark .text-neutral-900,
  .dark.theme-seed-dark .text-zinc-900 {
    color: var(--foreground) !important;
  }

  .dark.theme-seed-dark .text-gray-700,
  .dark.theme-seed-dark .text-gray-600,
  .dark.theme-seed-dark .text-slate-600,
  .dark.theme-seed-dark .text-neutral-600,
  .dark.theme-seed-dark .text-zinc-600,
  .dark.theme-seed-dark .text-gray-500 {
    color: var(--muted-foreground) !important;
  }

  .dark.theme-seed-dark .border-gray-100,
  .dark.theme-seed-dark .border-gray-200,
  .dark.theme-seed-dark .border-gray-300,
  .dark.theme-seed-dark .border-slate-200,
  .dark.theme-seed-dark .border-neutral-200,
  .dark.theme-seed-dark .border-zinc-200 {
    border-color: var(--border) !important;
  }

  /* Heuristic for bg-white with opacity utilities */
  .dark.theme-seed-dark [class*="bg-white/"],
  .dark.theme-seed-dark [class*="bg-gray-100/"],
  .dark.theme-seed-dark [class*="bg-gray-50/"] {
    background-color: color-mix(in srgb, var(--card) 90%, #ffffff 10%) !important;
  }

  /* Subtle card entrance animations */
  .card-bounce-in-1 {
    animation: cardBounceIn 0.45s ease-out 0.075s both;
  }

  .card-bounce-in-2 {
    animation: cardBounceIn 0.45s ease-out 0.15s both;
  }

  .card-bounce-in-3 {
    animation: cardBounceIn 0.45s ease-out 0.225s both;
  }

  .action-card-bounce {
    animation: cardBounceIn 0.375s ease-out calc(var(--delay, 0) * 0.075s) both;
  }

  /* Action card styling */
  .action-card {
    position: relative;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(12px);
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
    transition: all 0.3s ease;
  }

  .action-card:hover {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 165, 0, 0.5);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  .action-card-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
    padding: 12px;
  }

  @keyframes cardBounceIn {
    0% {
      opacity: 0;
      transform: translateY(30px) scale(0.9);
    }
    60% {
      opacity: 1;
      transform: translateY(-8px) scale(1.02);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Enhanced card hover effects */
  .quote-card {
    @apply transition-shadow duration-300 ease-in-out;
  }

  .quote-card:hover {
    @apply shadow-2xl;
  }

  /* Enhanced table row hover */
  .quote-table-row {
    @apply transition-all duration-200 ease-in-out;
  }

  .quote-table-row:hover {
    @apply bg-gradient-to-r from-blue-50 to-indigo-50 shadow-sm;
  }

  /* Gradient text effects */
  .gradient-text {
    @apply bg-gradient-to-r from-[#253e31] to-[#75c29a] bg-clip-text text-transparent;
  }

  /* Universal page background utility */
  .page-bg {
    background-image: linear-gradient(to bottom right, var(--page-bg-start), var(--page-bg-end));
  }

  /* Enhanced button styles */
  .button-shimmer {
    @apply relative overflow-hidden;
  }

  .button-shimmer::before {
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-100%] transition-transform duration-700;
    content: "";
  }

  .button-shimmer:hover::before {
    @apply translate-x-[200%];
  }

  /* Leads table row hover (seed orange tint) */
  .lead-row-hover {
    transition:
      background-color 180ms ease,
      box-shadow 200ms ease,
      transform 200ms ease;
  }
  .lead-row-hover:hover {
    /* tint with seed orange without overpowering text */
    background-color: color-mix(in srgb, var(--seed-orange) 12%, transparent) !important;
    box-shadow: 0 6px 14px -8px rgba(0, 0, 0, 0.35);
    transform: translateY(-1px);
  }

  /* Pulse animation for status indicators */
  .status-pulse {
    @apply animate-pulse;
  }

  /* Enhanced form inputs */
  .enhanced-input {
    @apply transition-all duration-200 ease-in-out;
  }

  .enhanced-input:focus {
    @apply shadow-lg ring-2 ring-[#e24c00]/20;
  }

  /* Enhanced Client-Facing Article Styles */
  .prose-blue {
    --tw-prose-body: rgb(71 85 105);
    --tw-prose-headings: rgb(30 58 138);
    --tw-prose-lead: rgb(71 85 105);
    --tw-prose-links: rgb(37 99 235);
    --tw-prose-bold: rgb(30 58 138);
    --tw-prose-counters: rgb(100 116 139);
    --tw-prose-bullets: rgb(203 213 225);
    --tw-prose-hr: rgb(226 232 240);
    --tw-prose-quotes: rgb(30 58 138);
    --tw-prose-quote-borders: rgb(219 234 254);
    --tw-prose-captions: rgb(100 116 139);
    --tw-prose-code: rgb(30 58 138);
    --tw-prose-pre-code: rgb(219 234 254);
    --tw-prose-pre-bg: rgb(239 246 255);
    --tw-prose-th-borders: rgb(219 234 254);
    --tw-prose-td-borders: rgb(229 231 235);
  }

  .prose-orange {
    --tw-prose-body: rgb(120 113 108);
    --tw-prose-headings: rgb(194 65 12);
    --tw-prose-lead: rgb(120 113 108);
    --tw-prose-links: rgb(234 88 12);
    --tw-prose-bold: rgb(194 65 12);
    --tw-prose-counters: rgb(146 64 14);
    --tw-prose-bullets: rgb(251 191 36);
    --tw-prose-hr: rgb(254 215 170);
    --tw-prose-quotes: rgb(194 65 12);
    --tw-prose-quote-borders: rgb(255 237 213);
    --tw-prose-captions: rgb(146 64 14);
    --tw-prose-code: rgb(194 65 12);
    --tw-prose-pre-code: rgb(255 237 213);
    --tw-prose-pre-bg: rgb(255 251 235);
    --tw-prose-th-borders: rgb(255 237 213);
    --tw-prose-td-borders: rgb(229 231 235);
  }

  /* Client-facing article container with professional styling */
  .client-article {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border-radius: 12px;
    padding: 2.5rem;
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
    margin: 1rem 0;
  }

  .client-article::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #3b82f6, #1d4ed8, #2563eb);
  }

  .client-article h1 {
    color: #1e3a8a !important;
    font-size: 2.25rem !important;
    font-weight: 700 !important;
    line-height: 1.2 !important;
    margin-bottom: 0.75rem !important;
    text-align: center;
    padding-bottom: 0.5rem;
    border-bottom: 3px solid #dbeafe;
  }

  .client-article h2 {
    color: #1e40af !important;
    font-size: 1.5rem !important;
    font-weight: 600 !important;
    margin-top: 2rem !important;
    margin-bottom: 1rem !important;
    border-bottom: 2px solid #dbeafe !important;
    padding-bottom: 0.5rem !important;
  }

  .client-article h3,
  .client-article h4 {
    color: #2563eb !important;
    font-size: 1.25rem !important;
    font-weight: 600 !important;
    margin-top: 1.5rem !important;
    margin-bottom: 0.75rem !important;
  }

  .client-article p {
    color: #475569 !important;
    font-size: 1.125rem !important;
    line-height: 1.7 !important;
    margin-bottom: 1.25rem !important;
  }

  .client-article ul,
  .client-article ol {
    color: #475569 !important;
    font-size: 1.125rem !important;
    line-height: 1.7 !important;
    margin-bottom: 1.25rem !important;
    padding-left: 1.5rem !important;
  }

  .client-article li {
    margin-bottom: 0.5rem !important;
  }

  .client-article blockquote {
    border-left: 4px solid #3b82f6 !important;
    background: #f1f5f9 !important;
    padding: 1rem 1.5rem !important;
    margin: 1.5rem 0 !important;
    font-style: italic !important;
    color: #334155 !important;
    border-radius: 4px;
  }

  .client-article strong,
  .client-article b {
    background: linear-gradient(120deg, #dbeafe 0%, #bfdbfe 100%) !important;
    padding: 0.25rem 0.5rem !important;
    border-radius: 4px !important;
    font-weight: 600 !important;
    color: #1e40af !important;
  }
}

@layer utilities {
  /* Line clamp utilities (fallback if Tailwind plugin is not present) */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Disable hover lift/zoom for specific surfaces */
  .no-surface-lift,
  .no-surface-lift:hover {
    transform: none !important;
    box-shadow: none !important;
  }
  /* Hide scrollbars but allow scrolling */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  /* Reserve scrollbar gutter to avoid layout shifts */
  .scrollbar-stable {
    scrollbar-gutter: stable both-edges;
  }

  /* Fade the top and bottom edges for scrollable containers */
  .scroll-fade-edges {
    --fade-size: 14px;
    -webkit-mask-image: linear-gradient(
      to bottom,
      transparent 0,
      black var(--fade-size),
      black calc(100% - var(--fade-size)),
      transparent 100%
    );
    mask-image: linear-gradient(
      to bottom,
      transparent 0,
      black var(--fade-size),
      black calc(100% - var(--fade-size)),
      transparent 100%
    );
  }

  /* Overlay-based fade (fallback for cases where mask-image isn't effective) */
  .scroll-fade-overlay {
    position: relative;
  }
  .scroll-fade-overlay::before,
  .scroll-fade-overlay::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    height: 18px;
    pointer-events: none;
    z-index: 5;
  }
  .scroll-fade-overlay::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.22), rgba(0, 0, 0, 0));
  }
  .scroll-fade-overlay::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.22), rgba(0, 0, 0, 0));
  }

  /* Subtle inner bottom and right gradient for Kanban column container */
  .column-soft-fade {
    position: relative;
  }
  .column-soft-fade::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 22px;
    pointer-events: none;
    border-bottom-left-radius: inherit;
    border-bottom-right-radius: inherit;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.28));
  }
  .column-soft-fade::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: 14px;
    height: 100%;
    pointer-events: none;
    border-top-right-radius: inherit;
    border-bottom-right-radius: inherit;
    background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.18));
  }

  /* Softer external shadow for Kanban columns */
  .column-shadow-soft {
    box-shadow: none !important; /* neutralize .surface-glass shadow */
    /* multiple drop-shadows produce a smoother falloff without a hard edge */
    filter: drop-shadow(0 18px 26px rgba(0, 0, 0, 0.25)) drop-shadow(0 8px 14px rgba(0, 0, 0, 0.2));
  }

  /* Tiptap Rich Text Editor Styles */
  .ProseMirror {
    outline: none;
  }

  .ProseMirror p {
    margin: 0.5em 0;
  }

  .ProseMirror p:first-child {
    margin-top: 0;
  }

  .ProseMirror p:last-child {
    margin-bottom: 0;
  }

  .ProseMirror h1,
  .ProseMirror h2,
  .ProseMirror h3 {
    font-weight: 600;
    margin-top: 1em;
    margin-bottom: 0.5em;
  }

  .ProseMirror h1 {
    font-size: 1.5em;
  }

  .ProseMirror h2 {
    font-size: 1.25em;
  }

  .ProseMirror h3 {
    font-size: 1.1em;
  }

  .ProseMirror ul,
  .ProseMirror ol {
    padding-left: 1.5em;
    margin: 0.5em 0;
  }

  .ProseMirror li {
    margin: 0.25em 0;
  }

  .ProseMirror code {
    background-color: hsl(var(--muted));
    padding: 0.2em 0.4em;
    border-radius: 0.25em;
    font-size: 0.9em;
    font-family: monospace;
  }

  .ProseMirror pre {
    background-color: hsl(var(--muted));
    padding: 0.75em 1em;
    border-radius: 0.5em;
    overflow-x: auto;
    margin: 0.5em 0;
  }

  .ProseMirror pre code {
    background: none;
    padding: 0;
    font-size: 0.875em;
  }

  .ProseMirror blockquote {
    border-left: 3px solid hsl(var(--border));
    padding-left: 1em;
    margin: 0.5em 0;
    color: hsl(var(--muted-foreground));
  }

  .ProseMirror a {
    color: hsl(var(--primary));
    text-decoration: underline;
    cursor: pointer;
  }

  .ProseMirror a:hover {
    opacity: 0.8;
  }

  .ProseMirror img {
    max-width: 100%;
    height: auto;
    border-radius: 0.5em;
    margin: 0.5em 0;
  }

  .ProseMirror hr {
    border: none;
    border-top: 2px solid hsl(var(--border));
    margin: 1em 0;
  }

  .ProseMirror p.is-editor-empty:first-child::before {
    color: hsl(var(--muted-foreground));
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
  }
}
